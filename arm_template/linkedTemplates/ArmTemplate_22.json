{
    "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "factoryName": {
            "type": "string",
            "metadata": "Data Factory name",
            "defaultValue": "EnterpriseDataSourceProdDF"
        }
    },
    "variables": {
        "factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
    },
    "resources": [
        {
            "name": "[concat(parameters('factoryName'), '/src_stgFISDemographics')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "Data Lake Storage/Stage"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "folderPath": "FIS/ReferenceFile",
                        "fileSystem": "stage"
                    },
                    "columnDelimiter": "|",
                    "escapeChar": "\\",
                    "firstRowAsHeader": false,
                    "quoteChar": "\""
                },
                "schema": [
                    {
                        "name": "FISDebitDemographicID",
                        "type": "String"
                    },
                    {
                        "name": "AccountNumber",
                        "type": "String"
                    },
                    {
                        "name": "PlasticNumber",
                        "type": "String"
                    },
                    {
                        "name": "GreetingName",
                        "type": "String"
                    },
                    {
                        "name": "FinancialInstitutionRouteTransit",
                        "type": "String"
                    },
                    {
                        "name": "CardStatus",
                        "type": "String"
                    },
                    {
                        "name": "LastUsedDate",
                        "type": "String"
                    },
                    {
                        "name": "AuthorizationLimitGroup",
                        "type": "String"
                    },
                    {
                        "name": "PINOffset",
                        "type": "String"
                    },
                    {
                        "name": "TrackTwoDate",
                        "type": "String"
                    },
                    {
                        "name": "DDAAccountNumber",
                        "type": "String"
                    },
                    {
                        "name": "SavingsAccountNumber",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalDDAAccountNumberOne",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalDDAAccountNumberTwo",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalDDAAccountNumberThree",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalDDAAccountNumberFour",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalDDAAccountNumberFive",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalSavingsAccountNumberOne",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalSavingsAccountNumberTwo",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalSavingsAccountNumberThree",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalSavingsAccountNumberFour",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalSavingsAccountNumberFive",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalCreditAccountNumberOne",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalCreditAccountNumberTwo",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalCreditAccountNumberThree",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalCreditAccountNumberFour",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalOtherAccountNumberOne",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalOtherAccountNumberTwo",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalOtherAccountNumberThree",
                        "type": "String"
                    },
                    {
                        "name": "AdditionalOtherAccountNumberFour",
                        "type": "String"
                    },
                    {
                        "name": "CardholderAddressLineOne",
                        "type": "String"
                    },
                    {
                        "name": "CardholderAddressLineTwo",
                        "type": "String"
                    },
                    {
                        "name": "CardholderAddressCity",
                        "type": "String"
                    },
                    {
                        "name": "CardholderAddressState",
                        "type": "String"
                    },
                    {
                        "name": "CardholderAddressZip",
                        "type": "String"
                    },
                    {
                        "name": "CardholderFirstName",
                        "type": "String"
                    },
                    {
                        "name": "CardholderLastName",
                        "type": "String"
                    },
                    {
                        "name": "CardholderMiddleInitial",
                        "type": "String"
                    },
                    {
                        "name": "CardActivationFlag",
                        "type": "String"
                    },
                    {
                        "name": "OriginalIssueDate",
                        "type": "String"
                    },
                    {
                        "name": "LastIssueDate",
                        "type": "String"
                    },
                    {
                        "name": "NationalIdentifier",
                        "type": "String"
                    },
                    {
                        "name": "MothersMaidenName",
                        "type": "String"
                    },
                    {
                        "name": "HomePhone",
                        "type": "String"
                    },
                    {
                        "name": "WorkPhone",
                        "type": "String"
                    },
                    {
                        "name": "UserValidation",
                        "type": "String"
                    },
                    {
                        "name": "VRUCounter",
                        "type": "String"
                    },
                    {
                        "name": "BirthDate",
                        "type": "String"
                    },
                    {
                        "name": "CardActivationMethod",
                        "type": "String"
                    },
                    {
                        "name": "CardActivationDate",
                        "type": "String"
                    },
                    {
                        "name": "CardActivationTime",
                        "type": "String"
                    },
                    {
                        "name": "PreviousExpirationDate",
                        "type": "String"
                    },
                    {
                        "name": "PreviousCardActivationStatus",
                        "type": "String"
                    },
                    {
                        "name": "CardStatusTwo",
                        "type": "String"
                    },
                    {
                        "name": "FISDebitImportFileName",
                        "type": "String"
                    },
                    {
                        "name": "CreateDate",
                        "type": "String"
                    },
                    {
                        "name": "BINNumber",
                        "type": "String"
                    },
                    {
                        "name": "ClientNumberIssuer",
                        "type": "String"
                    },
                    {
                        "name": "HashFullRecord",
                        "type": "String"
                    },
                    {
                        "name": "LastUpdatedDate",
                        "type": "String"
                    },
                    {
                        "name": "ReportDate",
                        "type": "String"
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/dropZoneTransactions_Rewards')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "parameters": {
                    "filename": {
                        "type": "string"
                    }
                },
                "folder": {
                    "name": "Data Lake Storage/Drop Zone/Zelle_drop"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": {
                            "value": "@dataset().filename",
                            "type": "Expression"
                        },
                        "folderPath": "Rewards/Inbound/Demographics",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": "\t",
                    "escapeChar": "\\",
                    "quoteChar": "\""
                },
                "schema": [
                    {
                        "type": "String"
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/sem_TransactionAnalysis_Daily_staging_dci')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "Consolidation",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlTable",
                "schema": [
                    {
                        "name": "account_key",
                        "type": "varchar"
                    },
                    {
                        "name": "client_id",
                        "type": "varchar"
                    },
                    {
                        "name": "client_name",
                        "type": "varchar"
                    },
                    {
                        "name": "binnumber",
                        "type": "varchar"
                    },
                    {
                        "name": "bin_type",
                        "type": "varchar"
                    },
                    {
                        "name": "network_cd",
                        "type": "varchar"
                    },
                    {
                        "name": "settlement_date",
                        "type": "date"
                    },
                    {
                        "name": "token_request_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "CardPresence_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "recurring_Desc",
                        "type": "varchar"
                    },
                    {
                        "name": "sum_transaction_amount",
                        "type": "money",
                        "precision": 19,
                        "scale": 4
                    },
                    {
                        "name": "sum_settlement_amount",
                        "type": "money",
                        "precision": 19,
                        "scale": 4
                    },
                    {
                        "name": "sum_interchange_amount",
                        "type": "money",
                        "precision": 19,
                        "scale": 4
                    },
                    {
                        "name": "cnt_transactions",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "days_to_transact",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "digital_card_issued_ind",
                        "type": "bit"
                    }
                ],
                "typeProperties": {
                    "schema": "staging",
                    "table": "transaction_analysis_daily_dci"
                }
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/vw_transaction_analysis_daily_dci')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "Consolidation",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlTable",
                "schema": [
                    {
                        "name": "account_key",
                        "type": "varchar"
                    },
                    {
                        "name": "client_id",
                        "type": "varchar"
                    },
                    {
                        "name": "client_name",
                        "type": "varchar"
                    },
                    {
                        "name": "binnumber",
                        "type": "varchar"
                    },
                    {
                        "name": "bin_type",
                        "type": "varchar"
                    },
                    {
                        "name": "network_cd",
                        "type": "varchar"
                    },
                    {
                        "name": "settlement_date",
                        "type": "date"
                    },
                    {
                        "name": "token_request_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "CardPresence_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "recurring_Desc",
                        "type": "varchar"
                    },
                    {
                        "name": "sum_transaction_amount",
                        "type": "money",
                        "precision": 19,
                        "scale": 4
                    },
                    {
                        "name": "sum_settlement_amount",
                        "type": "money",
                        "precision": 19,
                        "scale": 4
                    },
                    {
                        "name": "sum_interchange_amount",
                        "type": "money",
                        "precision": 19,
                        "scale": 4
                    },
                    {
                        "name": "cnt_transactions",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "days_to_transact",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "digital_card_issued_ind",
                        "type": "bit"
                    }
                ],
                "typeProperties": {
                    "schema": "sem",
                    "table": "transaction_analysis_daily_dci"
                }
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/sem_CardUsageAnalysis_staging_preagg_dci')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "Consolidation",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlTable",
                "schema": [
                    {
                        "name": "timeperiod",
                        "type": "varchar"
                    },
                    {
                        "name": "date",
                        "type": "datetime2",
                        "scale": 7
                    },
                    {
                        "name": "client_id",
                        "type": "varchar"
                    },
                    {
                        "name": "client_name",
                        "type": "varchar"
                    },
                    {
                        "name": "binnumber",
                        "type": "varchar"
                    },
                    {
                        "name": "bin_type",
                        "type": "varchar"
                    },
                    {
                        "name": "token_request_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "total_cards",
                        "type": "bigint",
                        "precision": 19
                    },
                    {
                        "name": "non_transacting_cards",
                        "type": "bigint",
                        "precision": 19
                    },
                    {
                        "name": "total_cards_prev",
                        "type": "bigint",
                        "precision": 19
                    },
                    {
                        "name": "non_transacting_cards_prev",
                        "type": "bigint",
                        "precision": 19
                    },
                    {
                        "name": "digital_total_cards",
                        "type": "bigint",
                        "precision": 19
                    },
                    {
                        "name": "digital_non_transacting_cards",
                        "type": "bigint",
                        "precision": 19
                    }
                ],
                "typeProperties": {
                    "schema": "staging",
                    "table": "cardusage_analysis_preagg_dci"
                }
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/all_dzCountryCodeSubdivision')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "parameters": {
                    "filename": {
                        "type": "string",
                        "defaultValue": "CountryCodeSubdivision_20200801.csv"
                    }
                },
                "folder": {
                    "name": "Drop"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": {
                            "value": "@dataset().filename",
                            "type": "Expression"
                        },
                        "folderPath": "ISO/CountryCodeSubdivision",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/snkDatawarehouse_DCI')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "DataWarehouse",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlDWTable",
                "schema": [
                    {
                        "name": "digitalcardissuanceid",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "clientnum",
                        "type": "char"
                    },
                    {
                        "name": "source_system_key",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "issuedte",
                        "type": "datetime",
                        "precision": 23,
                        "scale": 3
                    },
                    {
                        "name": "cardnum",
                        "type": "varchar"
                    },
                    {
                        "name": "accountnum",
                        "type": "varchar"
                    }
                ],
                "typeProperties": {
                    "schema": "Staging",
                    "table": "digital_issuance_record_set"
                }
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/vw_CardUsageAnalysis_monthly_dci')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "DataWarehouse",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlDWTable",
                "schema": [
                    {
                        "name": "timeperiod",
                        "type": "varchar"
                    },
                    {
                        "name": "date",
                        "type": "datetime2",
                        "scale": 7
                    },
                    {
                        "name": "client_id",
                        "type": "varchar"
                    },
                    {
                        "name": "client_name",
                        "type": "varchar"
                    },
                    {
                        "name": "binnumber",
                        "type": "varchar"
                    },
                    {
                        "name": "bin_type",
                        "type": "varchar"
                    },
                    {
                        "name": "token_request_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "total_cards",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "non_transacting_cards",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "total_cards_prev",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "non_transacting_cards_prev",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "digital_total_cards",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "digital_non_transacting_cards",
                        "type": "int",
                        "precision": 10
                    }
                ],
                "typeProperties": {
                    "schema": {
                        "value": "sem",
                        "type": "Expression"
                    },
                    "table": "vw_cardusage_analysis_monthly_dci"
                }
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/snk_rawReferenceInterchange_meta')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "Dynamic Raw"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "folderPath": "FIS/Interchange/current",
                        "fileSystem": "raw"
                    },
                    "columnDelimiter": ";",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/src_drpReferenceInterchange_meta')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "Data Lake Storage/Drop Zone"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "folderPath": "FIS/Interchange",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": ";",
                    "escapeChar": "\\",
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/drpToRawFiles_CountryCode')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "parameters": {
                    "outputdirectorypath": {
                        "type": "string"
                    }
                },
                "folder": {
                    "name": "Dynamic Raw"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": {
                            "value": "@dataset().outputdirectorypath",
                            "type": "Expression"
                        },
                        "folderPath": {
                            "value": "@concat('ISO/CountryCode/',substring(dataset().outputdirectorypath,12,4),'/',substring(dataset().outputdirectorypath,16,2),'/',substring(dataset().outputdirectorypath,18,2))",
                            "type": "Expression"
                        },
                        "fileSystem": {
                            "value": "raw",
                            "type": "Expression"
                        }
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/dzCountryCodeSubdivision_Meta')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "Drop"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "folderPath": "ISO/CountryCodeSubdivision",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/all_dzCountryCode')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "parameters": {
                    "filename": {
                        "type": "string",
                        "defaultValue": "CountryCode_20200801.csv"
                    }
                },
                "folder": {
                    "name": "Drop"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": {
                            "value": "@dataset().filename",
                            "type": "Expression"
                        },
                        "folderPath": "ISO/CountryCode",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": [
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    },
                    {
                        "type": "String"
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/drpToRawFiles_CountryCodeSubdivision')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "parameters": {
                    "outputdirectorypath": {
                        "type": "string"
                    }
                },
                "folder": {
                    "name": "Dynamic Raw"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": {
                            "value": "@dataset().outputdirectorypath",
                            "type": "Expression"
                        },
                        "folderPath": {
                            "value": "@concat('ISO/CountryCodeSubdivision/',substring(dataset().outputdirectorypath,23,4),'/',substring(dataset().outputdirectorypath,27,2),'/',substring(dataset().outputdirectorypath,29,2))",
                            "type": "Expression"
                        },
                        "fileSystem": {
                            "value": "raw",
                            "type": "Expression"
                        }
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/src_stgCountryCodeSubdivision')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "description": "ISO Country Code Subdivision Reference File",
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "ChargebacksDB"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": "CountryCodeSubdivision.csv",
                        "folderPath": "Reference",
                        "fileSystem": "stage"
                    },
                    "columnDelimiter": "|",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": [
                    {
                        "name": "Alpha2Code",
                        "type": "String"
                    },
                    {
                        "name": "Subdivision",
                        "type": "String"
                    },
                    {
                        "name": "SubdivisionCategory",
                        "type": "String"
                    },
                    {
                        "name": "3166_2code",
                        "type": "String"
                    },
                    {
                        "name": "SubdivisionName",
                        "type": "String"
                    },
                    {
                        "name": "LocalVariant",
                        "type": "String"
                    },
                    {
                        "name": "LanguageCode",
                        "type": "String"
                    },
                    {
                        "name": "RoaniationSystem",
                        "type": "String"
                    },
                    {
                        "name": "ParentSubdivision",
                        "type": "String"
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/droptoraw_PaymentTokenRequest_meta')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "Data Lake Storage/Drop Zone"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "folderPath": "Coop/PaymentTypeRequestor",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/dzCountryCode_Meta')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "Drop"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "folderPath": "ISO/CountryCode",
                        "fileSystem": "drop-zone"
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "firstRowAsHeader": true,
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/vw_CardUsageAnalysis_preagg_dci')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "DataWarehouse",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlDWTable",
                "schema": [
                    {
                        "name": "timeperiod",
                        "type": "varchar"
                    },
                    {
                        "name": "date",
                        "type": "datetime2",
                        "scale": 7
                    },
                    {
                        "name": "client_id",
                        "type": "varchar"
                    },
                    {
                        "name": "client_name",
                        "type": "varchar"
                    },
                    {
                        "name": "binnumber",
                        "type": "varchar"
                    },
                    {
                        "name": "bin_type",
                        "type": "varchar"
                    },
                    {
                        "name": "token_request_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "total_cards",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "non_transacting_cards",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "total_cards_prev",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "non_transacting_cards_prev",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "digital_total_cards",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "digital_non_transacting_cards",
                        "type": "int",
                        "precision": 10
                    }
                ],
                "typeProperties": {
                    "schema": "sem",
                    "table": "vw_cardusage_analysis_preagg_dci"
                }
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/snk_rawPaymentTokenRequestor')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "EnterpriseDataSource",
                    "type": "LinkedServiceReference"
                },
                "parameters": {
                    "fileName": {
                        "type": "string"
                    }
                },
                "folder": {
                    "name": "Data Lake Storage/Raw/Reference"
                },
                "annotations": [],
                "type": "DelimitedText",
                "typeProperties": {
                    "location": {
                        "type": "AzureBlobFSLocation",
                        "fileName": {
                            "value": "@dataset().fileName",
                            "type": "Expression"
                        },
                        "folderPath": "Reference/PaymentTypeRequestor",
                        "fileSystem": "raw"
                    },
                    "columnDelimiter": ",",
                    "escapeChar": "\\",
                    "quoteChar": "\""
                },
                "schema": []
            },
            "dependsOn": []
        },
        {
            "name": "[concat(parameters('factoryName'), '/vw_TransactionAnalysis_Daily_NoFilter_dci')]",
            "type": "Microsoft.DataFactory/factories/datasets",
            "apiVersion": "2018-06-01",
            "properties": {
                "linkedServiceName": {
                    "referenceName": "DataWarehouse",
                    "type": "LinkedServiceReference"
                },
                "folder": {
                    "name": "DCI_InsightCenter"
                },
                "annotations": [],
                "type": "AzureSqlDWTable",
                "schema": [
                    {
                        "name": "account_key",
                        "type": "varchar"
                    },
                    {
                        "name": "client_id",
                        "type": "varchar"
                    },
                    {
                        "name": "client_name",
                        "type": "varchar"
                    },
                    {
                        "name": "binnumber",
                        "type": "varchar"
                    },
                    {
                        "name": "bin_type",
                        "type": "varchar"
                    },
                    {
                        "name": "network_cd",
                        "type": "nvarchar"
                    },
                    {
                        "name": "settlement_Date",
                        "type": "date"
                    },
                    {
                        "name": "token_request_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "CardPresence_desc",
                        "type": "varchar"
                    },
                    {
                        "name": "recurring_Desc",
                        "type": "varchar"
                    },
                    {
                        "name": "sum_transaction_amount",
                        "type": "decimal",
                        "precision": 38,
                        "scale": 2
                    },
                    {
                        "name": "sum_settlement_amount",
                        "type": "decimal",
                        "precision": 38,
                        "scale": 2
                    },
                    {
                        "name": "sum_interchange_amount",
                        "type": "decimal",
                        "precision": 38,
                        "scale": 2
                    },
                    {
                        "name": "cnt_transactions",
                        "type": "int",
                        "precision": 10
                    },
                    {
                        "name": "days_to_transacts",
                        "type": "int",
                        "precision": 10
                    }
                ],
                "typeProperties": {
                    "schema": "sem",
                    "table": "vw_transaction_analysis_daily_noFilter_dci"
                }
            },
            "dependsOn": []
        }
    ]
}